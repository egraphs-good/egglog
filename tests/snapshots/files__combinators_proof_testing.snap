---
source: tests/files.rs
expression: snapshot_content
---
(CApp (CApp (CAddConst) (CN 1)) (CN 2))
(let t0 (If (Var "x") (N 0) (N 1)))
(let t1 (Add t0 (N 2)))
(let t2 (Abs "x" t1))
(let t3 (App t2 (FConst)))
(let prop0 (= t3 (N 3)))
(let prf0 (Fiat (= t3 t3)))
(let t4 (Comb t0))
(let t5 (CAbs "x" t4))
(let t6 (CApp t5 (CFConst)))
(let t7 (Uncomb t6))
(let t8 (Add t7 (N 2)))
(let t9 (Comb t3))
(let t10 (Uncomb t9))
(let t11 (CApp (CAddConst) t6))
(let t12 (CApp (CAddConst) t4))
(let t13 (CAbs "x" t12))
(let t14 (CApp t13 (CFConst)))
(let t15 (CAbs "x" (Comb (N 2))))
(let t16 (CApp t15 (CFConst)))
(let t17 (CApp t14 t16))
(let t18 (CApp (CApp (SConst) t13) t15))
(let t19 (Comb t2))
(let t20 (CApp t19 (Comb (FConst))))
(let t21 (x t3))
(let t22 (CApp t12 (Comb (N 2))))
(let t23 (Comb t1))
(let t24 (CAbs "x" t23))
(let t25
  (premises
                                          (Congr
                                            (= t19 (CAbs "x" t22))
                                            (Sym
                                              (= t19 t24)
                                              (Rule
                                                (= t24 t19)
                                                (name
                                                  "(rule ((= x (Abs v body)))
        ((union (Comb x) (CAbs v (Comb body))))
           )")
                                                (premises (Fiat (= t2 t2)))
                                                (substitution
                                                  (v "x")
                                                  (body t1)
                                                  (x t2))))
                                            (Sym
                                              (= t23 t22)
                                              (Rule
                                                (= t22 t23)
                                                (name
                                                  "(rule ((= x (Add l r)))
        ((union (Comb x) (CApp (CApp $CAdd (Comb l)) (Comb r))))
           )")
                                                (premises (Fiat (= t1 t1)))
                                                (substitution
                                                  (r (N 2))
                                                  (x t1)
                                                  (l t0))))
                                            1)))
(let t26
  (substitution
                                          (v "x")
                                          (y (Comb (N 2)))
                                          (x t12)
                                          (@rewrite_var__9 t19)))
(let t27
  (premises
                                  (Congr
                                    (= t9 (CApp t18 (CFConst)))
                                    (Congr
                                      (= t9 (CApp t19 (CFConst)))
                                      (Sym
                                        (= t9 t20)
                                        (Rule
                                          (= t20 t9)
                                          (name
                                            "(rule ((= x (App f a)))
        ((union (Comb x) (CApp (Comb f) (Comb a))))
           )")
                                          (premises prf0)
                                          (substitution (a (FConst)) (f t2) t21)))
                                      (Rule
                                        (= (Comb (FConst)) (CFConst))
                                        (name
                                          "(rule ((= x $F))
        ((union (Comb x) $CF))
           )")
                                        (premises (Fiat (= (FConst) (FConst))))
                                        (substitution ($F (FConst)) (x (FConst))))
                                      1)
                                    (Sym
                                      (= t19 t18)
                                      (Rule
                                        (= t18 t19)
                                        (name
                                          "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                        t25
                                        t26))
                                    0)))
(let t28
  (substitution
                                  (cz (CFConst))
                                  ($S (SConst))
                                  (cx t13)
                                  (@rewrite_var__16 t9)
                                  (cy t15)))
(let t29 (CApp (KConst) (Comb (N 2))))
(let t30 (CApp (KConst) (CN 2)))
(let prf1
  (Rule
                                                (= (CN 2) (Comb (N 2)))
                                                (name
                                                  "(rule ((= x (N n)))
        ((union (Comb x) (CN n)))
           )")
                                                (premises (Fiat (= (N 2) (N 2))))
                                                (substitution (x (N 2)) (n 2))))
(let prf2 (Sym (= (Comb (N 2)) (CN 2)) prf1))
(let t31 (cx (Comb (N 2))))
(let t32 (CApp (CAbs "x" (CAddConst)) (CFConst)))
(let t33 (CApp t32 t6))
(let t34
  (CApp
                                          (CApp (SConst) (CAbs "x" (CAddConst)))
                                          t5))
(let t35
  (premises
                                          (Rule
                                            (= t13 t13)
                                            (name
                                              "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                            t25
                                            t26)))
(let t36
  (substitution
                                          (v "x")
                                          (y t4)
                                          (x (CAddConst))
                                          (@rewrite_var__9 t13)))
(let t37
  (premises
                                  (Congr
                                    (= t14 (CApp t34 (CFConst)))
                                    (Rule
                                      (= t14 t14)
                                      (name
                                        "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                      t27
                                      t28)
                                    (Sym
                                      (= t13 t34)
                                      (Rule
                                        (= t34 t13)
                                        (name
                                          "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                        t35
                                        t36))
                                    0)))
(let t38
  (substitution
                                  (cz (CFConst))
                                  ($S (SConst))
                                  (cx (CAbs "x" (CAddConst)))
                                  (@rewrite_var__16 t14)
                                  (cy t5)))
(let t39
  (premises
                        (Congr
                          (= t9 (CApp t11 (Comb (N 2))))
                          (Congr
                            (= t9 (CApp t14 (Comb (N 2))))
                            (Sym
                              (= t9 t17)
                              (Rule
                                (= t17 t9)
                                (name
                                  "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                t27
                                t28))
                            (Rule
                              (= t16 (Comb (N 2)))
                              (name "(rewrite (CApp (CApp $K cx) cy) cx)")
                              (premises
                                (Congr
                                  (= t16 (CApp t29 (CFConst)))
                                  (Rule
                                    (= t16 t16)
                                    (name
                                      "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                    t27
                                    t28)
                                  (Congr
                                    (= t15 t29)
                                    (Sym
                                      (= t15 t30)
                                      (Rule
                                        (= t30 t15)
                                        (name
                                          "(rewrite (CAbs v (CN n)) (CApp $K (CN n)))")
                                        (premises
                                          (Congr
                                            (= t15 (CAbs "x" (CN 2)))
                                            (Rule
                                              (= t15 t15)
                                              (name
                                                "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                              t25
                                              t26)
                                            prf2
                                            1))
                                        (substitution
                                          (@rewrite_var__4 t15)
                                          (v "x")
                                          (n 2))))
                                    prf1
                                    1)
                                  0))
                              (substitution
                                ($K (KConst))
                                (@rewrite_var__15 t16)
                                t31
                                (cy (CFConst))))
                            1)
                          (Congr
                            (= t14 t11)
                            (Sym
                              (= t14 t33)
                              (Rule
                                (= t33 t14)
                                (name
                                  "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                t37
                                t38))
                            (Rule
                              (= t32 (CAddConst))
                              (name "(rewrite (CApp (CApp $K cx) cy) cx)")
                              (premises
                                (Congr
                                  (=
                                    t32
                                    (CApp (CApp (KConst) (CAddConst)) (CFConst)))
                                  (Rule
                                    (= t32 t32)
                                    (name
                                      "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                    t37
                                    t38)
                                  (Sym
                                    (=
                                      (CAbs "x" (CAddConst))
                                      (CApp (KConst) (CAddConst)))
                                    (Rule
                                      (=
                                        (CApp (KConst) (CAddConst))
                                        (CAbs "x" (CAddConst)))
                                      (name
                                        "(rewrite (CAbs v $CAdd) (CApp $K $CAdd))")
                                      (premises
                                        (Rule
                                          (=
                                            (CAbs "x" (CAddConst))
                                            (CAbs "x" (CAddConst)))
                                          (name
                                            "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                          t35
                                          t36))
                                      (substitution
                                        (v "x")
                                        ($CAdd (CAddConst))
                                        (@rewrite_var__8 (CAbs "x" (CAddConst))))))
                                  0))
                              (substitution
                                ($K (KConst))
                                (@rewrite_var__15 t32)
                                (cx (CAddConst))
                                (cy (CFConst))))
                            0)
                          0)))
(let t40
  (substitution
                        (cl t6)
                        (cr (Comb (N 2)))
                        (cx t9)
                        ($CAdd (CAddConst))))
(let t41 (Uncomb (Comb (N 2))))
(let t42 (Add t7 t41))
(let t43 (Uncomb (Comb (N 0))))
(let t44 (Uncomb (Comb (N 1))))
(let t45 (If (Uncomb (CFConst)) t43 t44))
(let t46 (CApp (CApp (CIfConst) (CFConst)) (Comb (N 0))))
(let t47 (CApp (CIfConst) (Comb (Var "x"))))
(let t48 (CApp t47 (Comb (N 0))))
(let t49 (CAbs "x" t48))
(let t50 (CApp t49 (CFConst)))
(let t51 (CAbs "x" (Comb (N 1))))
(let t52 (CApp t51 (CFConst)))
(let t53 (CApp t50 t52))
(let t54 (CApp (CApp (SConst) t49) t51))
(let t55 (CApp t48 (Comb (N 1))))
(let t56
  (premises
                                              (Congr
                                                (= t5 (CAbs "x" t55))
                                                (Rule
                                                  (= t5 t5)
                                                  (name
                                                    "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                                  t35
                                                  t36)
                                                (Sym
                                                  (= t4 t55)
                                                  (Rule
                                                    (= t55 t4)
                                                    (name
                                                      "(rule ((= x (If c t f)))
        ((union (Comb x) (CApp (CApp (CApp $CIf (Comb c)) (Comb t)) (Comb f))))
           )")
                                                    (premises (Fiat (= t0 t0)))
                                                    (substitution
                                                      (t (N 0))
                                                      (f (N 1))
                                                      (x t0)
                                                      (c (Var "x")))))
                                                1)))
(let t57
  (substitution
                                              (v "x")
                                              (y (Comb (N 1)))
                                              (x t48)
                                              (@rewrite_var__9 t5)))
(let t58
  (premises
                                      (Congr
                                        (= t6 (CApp t54 (CFConst)))
                                        (Rule
                                          (= t6 t6)
                                          (name
                                            "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                          t37
                                          t38)
                                        (Sym
                                          (= t5 t54)
                                          (Rule
                                            (= t54 t5)
                                            (name
                                              "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                            t56
                                            t57))
                                        0)))
(let t59
  (substitution
                                      (cz (CFConst))
                                      ($S (SConst))
                                      (cx t49)
                                      (@rewrite_var__16 t6)
                                      (cy t51)))
(let t60 (CApp (KConst) (Comb (N 1))))
(let t61 (CApp (KConst) (CN 1)))
(let prf3
  (Rule
                                                    (= (CN 1) (Comb (N 1)))
                                                    (name
                                                      "(rule ((= x (N n)))
        ((union (Comb x) (CN n)))
           )")
                                                    (premises
                                                      (Fiat (= (N 1) (N 1))))
                                                    (substitution (x (N 1)) (n 1))))
(let prf4 (Sym (= (Comb (N 1)) (CN 1)) prf3))
(let t62 (cx (Comb (N 1))))
(let t63 (CAbs "x" t47))
(let t64 (CApp t63 (CFConst)))
(let t65 (CAbs "x" (Comb (N 0))))
(let t66 (CApp t65 (CFConst)))
(let t67 (CApp t64 t66))
(let t68 (CApp (CApp (SConst) t63) t65))
(let t69
  (premises
                                                (Rule
                                                  (= t49 t49)
                                                  (name
                                                    "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                                  t56
                                                  t57)))
(let t70
  (substitution
                                                (v "x")
                                                (y (Comb (N 0)))
                                                (x t47)
                                                (@rewrite_var__9 t49)))
(let t71
  (premises
                                        (Congr
                                          (= t50 (CApp t68 (CFConst)))
                                          (Rule
                                            (= t50 t50)
                                            (name
                                              "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                            t58
                                            t59)
                                          (Sym
                                            (= t49 t68)
                                            (Rule
                                              (= t68 t49)
                                              (name
                                                "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                              t69
                                              t70))
                                          0)))
(let t72
  (substitution
                                        (cz (CFConst))
                                        ($S (SConst))
                                        (cx t63)
                                        (@rewrite_var__16 t50)
                                        (cy t65)))
(let t73 (CApp (KConst) (Comb (N 0))))
(let t74 (CApp (KConst) (CN 0)))
(let prf5
  (Rule
                                                      (= (CN 0) (Comb (N 0)))
                                                      (name
                                                        "(rule ((= x (N n)))
        ((union (Comb x) (CN n)))
           )")
                                                      (premises
                                                        (Fiat (= (N 0) (N 0))))
                                                      (substitution
                                                        (x (N 0))
                                                        (n 0))))
(let prf6
  (Sym
                                                    (= (Comb (N 0)) (CN 0))
                                                    prf5))
(let t75 (cx (Comb (N 0))))
(let t76 (CApp (CAbs "x" (CIfConst)) (CFConst)))
(let t77 (CAbs "x" (Comb (Var "x"))))
(let t78 (CApp t77 (CFConst)))
(let t79 (CApp t76 t78))
(let t80
  (CApp
                                                  (CApp
                                                    (SConst)
                                                    (CAbs "x" (CIfConst)))
                                                  t77))
(let t81
  (premises
                                                  (Rule
                                                    (= t63 t63)
                                                    (name
                                                      "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                                    t69
                                                    t70)))
(let t82
  (substitution
                                                  (v "x")
                                                  (y (Comb (Var "x")))
                                                  (x (CIfConst))
                                                  (@rewrite_var__9 t63)))
(let t83
  (premises
                                          (Congr
                                            (= t64 (CApp t80 (CFConst)))
                                            (Rule
                                              (= t64 t64)
                                              (name
                                                "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                              t71
                                              t72)
                                            (Sym
                                              (= t63 t80)
                                              (Rule
                                                (= t80 t63)
                                                (name
                                                  "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                                t81
                                                t82))
                                            0)))
(let t84
  (substitution
                                          (cz (CFConst))
                                          ($S (SConst))
                                          (cx (CAbs "x" (CIfConst)))
                                          (@rewrite_var__16 t64)
                                          (cy t77)))
(Trans
  prop0
  prf0
  (Sym
    prop0
    (Rule
      (= (N 3) t3)
      (name "(rewrite (Add (N n) (N m)) (N (+ n m)))")
      (premises
        (Congr
          (= t3 (Add (N 1) (N 2)))
          (Trans
            (= t3 t8)
            (Sym
              (= t3 t10)
              (Rule
                (= t10 t3)
                (name "(rewrite (Uncomb (Comb x)) x)")
                (premises
                  (Rule
                    (= t10 t10)
                    (name
                      "(rule ((= cx (CApp (CApp $CAdd cl) cr)))
      ((union (Uncomb cx) (Add (Uncomb cl) (Uncomb cr))))
         )")
                    t39
                    t40))
                (substitution (@rewrite_var__1 t10) t21)))
            (Congr
              (= t10 t8)
              (Sym
                (= t10 t42)
                (Rule
                  (= t42 t10)
                  (name
                    "(rule ((= cx (CApp (CApp $CAdd cl) cr)))
      ((union (Uncomb cx) (Add (Uncomb cl) (Uncomb cr))))
         )")
                  t39
                  t40))
              (Rule
                (= t41 (N 2))
                (name
                  "(rule ((= cx (CN n)))
      ((union (Uncomb cx) (N n)))
         )")
                (premises prf2)
                (substitution t31 (n 2)))
              1))
          (Rule
            (= t7 (N 1))
            (name "(rewrite (If $F t f) f)")
            (premises
              (Congr
                (= t7 (If (FConst) (N 0) (N 1)))
                (Congr
                  (= t7 (If (Uncomb (CFConst)) (N 0) (N 1)))
                  (Congr
                    (= t7 (If (Uncomb (CFConst)) t43 (N 1)))
                    (Sym
                      (= t7 t45)
                      (Rule
                        (= t45 t7)
                        (name
                          "(rule ((= cx (CApp (CApp (CApp $CIf cc) ct) cf)))
      ((union (Uncomb cx) (If (Uncomb cc) (Uncomb ct) (Uncomb cf))))
         )")
                        (premises
                          (Congr
                            (= t6 (CApp t46 (Comb (N 1))))
                            (Congr
                              (= t6 (CApp t50 (Comb (N 1))))
                              (Sym
                                (= t6 t53)
                                (Rule
                                  (= t53 t6)
                                  (name
                                    "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                  t58
                                  t59))
                              (Rule
                                (= t52 (Comb (N 1)))
                                (name "(rewrite (CApp (CApp $K cx) cy) cx)")
                                (premises
                                  (Congr
                                    (= t52 (CApp t60 (CFConst)))
                                    (Rule
                                      (= t52 t52)
                                      (name
                                        "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                      t58
                                      t59)
                                    (Congr
                                      (= t51 t60)
                                      (Sym
                                        (= t51 t61)
                                        (Rule
                                          (= t61 t51)
                                          (name
                                            "(rewrite (CAbs v (CN n)) (CApp $K (CN n)))")
                                          (premises
                                            (Congr
                                              (= t51 (CAbs "x" (CN 1)))
                                              (Rule
                                                (= t51 t51)
                                                (name
                                                  "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                                t56
                                                t57)
                                              prf4
                                              1))
                                          (substitution
                                            (@rewrite_var__4 t51)
                                            (v "x")
                                            (n 1))))
                                      prf3
                                      1)
                                    0))
                                (substitution
                                  ($K (KConst))
                                  (@rewrite_var__15 t52)
                                  t62
                                  (cy (CFConst))))
                              1)
                            (Congr
                              (= t50 t46)
                              (Congr
                                (= t50 (CApp t64 (Comb (N 0))))
                                (Sym
                                  (= t50 t67)
                                  (Rule
                                    (= t67 t50)
                                    (name
                                      "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                    t71
                                    t72))
                                (Rule
                                  (= t66 (Comb (N 0)))
                                  (name "(rewrite (CApp (CApp $K cx) cy) cx)")
                                  (premises
                                    (Congr
                                      (= t66 (CApp t73 (CFConst)))
                                      (Rule
                                        (= t66 t66)
                                        (name
                                          "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                        t71
                                        t72)
                                      (Congr
                                        (= t65 t73)
                                        (Sym
                                          (= t65 t74)
                                          (Rule
                                            (= t74 t65)
                                            (name
                                              "(rewrite (CAbs v (CN n)) (CApp $K (CN n)))")
                                            (premises
                                              (Congr
                                                (= t65 (CAbs "x" (CN 0)))
                                                (Rule
                                                  (= t65 t65)
                                                  (name
                                                    "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                                  t69
                                                  t70)
                                                prf6
                                                1))
                                            (substitution
                                              (@rewrite_var__4 t65)
                                              (v "x")
                                              (n 0))))
                                        prf5
                                        1)
                                      0))
                                  (substitution
                                    ($K (KConst))
                                    (@rewrite_var__15 t66)
                                    t75
                                    (cy (CFConst))))
                                1)
                              (Congr
                                (= t64 (CApp (CIfConst) (CFConst)))
                                (Congr
                                  (= t64 (CApp t76 (CFConst)))
                                  (Sym
                                    (= t64 t79)
                                    (Rule
                                      (= t79 t64)
                                      (name
                                        "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                      t83
                                      t84))
                                  (Rule
                                    (= t78 (CFConst))
                                    (name "(rewrite (CApp $I cx) cx)")
                                    (premises
                                      (Congr
                                        (= t78 (CApp (IConst) (CFConst)))
                                        (Rule
                                          (= t78 t78)
                                          (name
                                            "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                          t83
                                          t84)
                                        (Rule
                                          (= t77 (IConst))
                                          (name
                                            "(rewrite (CAbs v (CVar v)) $I)")
                                          (premises
                                            (Congr
                                              (= t77 (CAbs "x" (CVar "x")))
                                              (Rule
                                                (= t77 t77)
                                                (name
                                                  "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                                t81
                                                t82)
                                              (Sym
                                                (= (Comb (Var "x")) (CVar "x"))
                                                (Rule
                                                  (=
                                                    (CVar "x")
                                                    (Comb (Var "x")))
                                                  (name
                                                    "(rule ((= x (Var v)))
      ((union (Comb x) (CVar v)))
         )")
                                                  (premises
                                                    (Fiat
                                                      (= (Var "x") (Var "x"))))
                                                  (substitution
                                                    (v "x")
                                                    (x (Var "x")))))
                                              1))
                                          (substitution
                                            (@rewrite_var__2 t77)
                                            (v "x")))
                                        0))
                                    (substitution
                                      (@rewrite_var__14 t78)
                                      (cx (CFConst))
                                      ($I (IConst))))
                                  1)
                                (Rule
                                  (= t76 (CIfConst))
                                  (name "(rewrite (CApp (CApp $K cx) cy) cx)")
                                  (premises
                                    (Congr
                                      (=
                                        t76
                                        (CApp
                                          (CApp (KConst) (CIfConst))
                                          (CFConst)))
                                      (Rule
                                        (= t76 t76)
                                        (name
                                          "(rewrite (CApp (CApp (CApp $S cx) cy) cz) (CApp (CApp cx cz) (CApp cy cz)))")
                                        t83
                                        t84)
                                      (Sym
                                        (=
                                          (CAbs "x" (CIfConst))
                                          (CApp (KConst) (CIfConst)))
                                        (Rule
                                          (=
                                            (CApp (KConst) (CIfConst))
                                            (CAbs "x" (CIfConst)))
                                          (name
                                            "(rewrite (CAbs v $CIf) (CApp $K $CIf))")
                                          (premises
                                            (Rule
                                              (=
                                                (CAbs "x" (CIfConst))
                                                (CAbs "x" (CIfConst)))
                                              (name
                                                "(rewrite (CAbs v (CApp x y)) (CApp (CApp $S (CAbs v x)) (CAbs v y)))")
                                              t81
                                              t82))
                                          (substitution
                                            (@rewrite_var__7
                                              (CAbs "x" (CIfConst)))
                                            (v "x")
                                            ($CIf (CIfConst)))))
                                      0))
                                  (substitution
                                    ($K (KConst))
                                    (@rewrite_var__15 t76)
                                    (cx (CIfConst))
                                    (cy (CFConst))))
                                0)
                              0)
                            0))
                        (substitution
                          (cc (CFConst))
                          (ct (Comb (N 0)))
                          (cx t6)
                          ($CIf (CIfConst))
                          (cf (Comb (N 1))))))
                    (Rule
                      (= t44 (N 1))
                      (name
                        "(rule ((= cx (CN n)))
      ((union (Uncomb cx) (N n)))
         )")
                      (premises prf4)
                      (substitution t62 (n 1)))
                    2)
                  (Rule
                    (= t43 (N 0))
                    (name
                      "(rule ((= cx (CN n)))
      ((union (Uncomb cx) (N n)))
         )")
                    (premises prf6)
                    (substitution t75 (n 0)))
                  1)
                (Rule
                  (= (Uncomb (CFConst)) (FConst))
                  (name
                    "(rule ((= cx $CF))
      ((union (Uncomb cx) $F))
         )")
                  (premises (Fiat (= (CFConst) (CFConst))))
                  (substitution (cx (CFConst)) ($CF (CFConst))))
                0))
            (substitution
              ($F (FConst))
              (@rewrite_var__12 t7)
              (t (N 0))
              (f (N 1))))
          0))
      (substitution (@rewrite_var__13 t3) (m 2) (n 1)))))
