; Test that fresh! works with include
(datatype TestSort 
  (Foo i64)
  (Bar TestSort TestSort))

(let init (Foo 1))

(rule ((Foo x))
      ((Foo (+ x 1))
       (Bar (unstable-fresh! TestSort) (Foo x))))

(run 2)
(check (Foo 1))
(check (Foo 2))
