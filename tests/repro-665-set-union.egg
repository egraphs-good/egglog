;; benchmark for many set unions
;; https://github.com/egraphs-good/egglog/issues/665
(sort IntSet (Set i64))
(relation R (i64))
(function f () IntSet :merge (set-union old new))

(R 0)
(rule
    ((R i) (< i 2000))
    ((R (+ i 1))
     (set (f) (set-of i))))

(run-schedule
    (saturate (run)))
