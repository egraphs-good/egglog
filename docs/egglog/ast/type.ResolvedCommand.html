<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `ResolvedCommand` type in crate `egglog`."><title>ResolvedCommand in egglog::ast - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-916cea96.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="egglog" data-themes="" data-resource-suffix="" data-rustdoc-version="1.87.0 (17067e9ac 2025-05-09)" data-channel="1.87.0" data-search-js="search-e7298875.js" data-settings-js="settings-d72f25bb.js" ><script src="../../static.files/storage-82c7156e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-fb8c74a8.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../egglog/index.html">egglog</a><span class="version">2.0.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Resolved<wbr>Command</a></h2><h3><a href="#aliased-type">Aliased Type</a></h3><h3><a href="#variants">Variants</a></h3><ul class="block variant"><li><a href="#variant.Action" title="Action">Action</a></li><li><a href="#variant.AddRuleset" title="AddRuleset">AddRuleset</a></li><li><a href="#variant.BiRewrite" title="BiRewrite">BiRewrite</a></li><li><a href="#variant.Check" title="Check">Check</a></li><li><a href="#variant.Constructor" title="Constructor">Constructor</a></li><li><a href="#variant.Datatype" title="Datatype">Datatype</a></li><li><a href="#variant.Datatypes" title="Datatypes">Datatypes</a></li><li><a href="#variant.Extract" title="Extract">Extract</a></li><li><a href="#variant.Fail" title="Fail">Fail</a></li><li><a href="#variant.Function" title="Function">Function</a></li><li><a href="#variant.Include" title="Include">Include</a></li><li><a href="#variant.Input" title="Input">Input</a></li><li><a href="#variant.Output" title="Output">Output</a></li><li><a href="#variant.Pop" title="Pop">Pop</a></li><li><a href="#variant.PrintFunction" title="PrintFunction">PrintFunction</a></li><li><a href="#variant.PrintOverallStatistics" title="PrintOverallStatistics">PrintOverallStatistics</a></li><li><a href="#variant.PrintSize" title="PrintSize">PrintSize</a></li><li><a href="#variant.Prove" title="Prove">Prove</a></li><li><a href="#variant.ProveExists" title="ProveExists">ProveExists</a></li><li><a href="#variant.Push" title="Push">Push</a></li><li><a href="#variant.Relation" title="Relation">Relation</a></li><li><a href="#variant.Rewrite" title="Rewrite">Rewrite</a></li><li><a href="#variant.Rule" title="Rule">Rule</a></li><li><a href="#variant.RunSchedule" title="RunSchedule">RunSchedule</a></li><li><a href="#variant.Sort" title="Sort">Sort</a></li><li><a href="#variant.UnstableCombinedRuleset" title="UnstableCombinedRuleset">UnstableCombinedRuleset</a></li><li><a href="#variant.UserDefined" title="UserDefined">UserDefined</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In egglog::<wbr>ast</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">egglog</a>::<wbr><a href="index.html">ast</a></div><h1>Type Alias <span class="type">ResolvedCommand</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/egglog/ast/mod.rs.html#479">Source</a> </span></div><pre class="rust item-decl"><code>pub type ResolvedCommand = <a class="enum" href="enum.GenericCommand.html" title="enum egglog::ast::GenericCommand">GenericCommand</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;;</code></pre><h2 id="aliased-type" class="section-header">Aliased Type<a href="#aliased-type" class="anchor">§</a></h2><pre class="rust item-decl"><code>enum ResolvedCommand {
<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 27 variants</span></summary>    Sort {
        span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>,
        name: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
        presort_and_args: <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.GenericExpr.html" title="enum egglog::ast::GenericExpr">GenericExpr</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;&gt;)&gt;,
        uf: <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;,
        unionable: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.bool.html">bool</a>,
    },
    Datatype {
        span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>,
        name: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
        variants: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="struct.Variant.html" title="struct egglog::ast::Variant">Variant</a>&gt;,
    },
    Datatypes {
        span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>,
        datatypes: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="enum" href="enum.Subdatatypes.html" title="enum egglog::ast::Subdatatypes">Subdatatypes</a>)&gt;,
    },
    Constructor {
        span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>,
        name: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
        schema: <a class="struct" href="struct.Schema.html" title="struct egglog::ast::Schema">Schema</a>,
        cost: <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.u64.html">u64</a>&gt;,
        unextractable: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.bool.html">bool</a>,
        hidden: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.bool.html">bool</a>,
        let_binding: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.bool.html">bool</a>,
        term_constructor: <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;,
    },
    Relation {
        span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>,
        name: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
        inputs: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;,
    },
    Function {
        span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>,
        name: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
        schema: <a class="struct" href="struct.Schema.html" title="struct egglog::ast::Schema">Schema</a>,
        merge: <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="enum.GenericExpr.html" title="enum egglog::ast::GenericExpr">GenericExpr</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;&gt;,
        hidden: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.bool.html">bool</a>,
        let_binding: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.bool.html">bool</a>,
    },
    AddRuleset(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>),
    UnstableCombinedRuleset(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;),
    Rule {
        rule: <a class="struct" href="struct.GenericRule.html" title="struct egglog::ast::GenericRule">GenericRule</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;,
    },
    Rewrite(<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="struct.GenericRewrite.html" title="struct egglog::ast::GenericRewrite">GenericRewrite</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;, <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.bool.html">bool</a>),
    BiRewrite(<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="struct.GenericRewrite.html" title="struct egglog::ast::GenericRewrite">GenericRewrite</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;),
    Action(<a class="enum" href="enum.GenericAction.html" title="enum egglog::ast::GenericAction">GenericAction</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;),
    Extract(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="enum" href="enum.GenericExpr.html" title="enum egglog::ast::GenericExpr">GenericExpr</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;, <a class="enum" href="enum.GenericExpr.html" title="enum egglog::ast::GenericExpr">GenericExpr</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;),
    RunSchedule(<a class="enum" href="enum.GenericSchedule.html" title="enum egglog::ast::GenericSchedule">GenericSchedule</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;),
    PrintOverallStatistics(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;),
    Check(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.GenericFact.html" title="enum egglog::ast::GenericFact">GenericFact</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;&gt;),
    Prove(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.GenericFact.html" title="enum egglog::ast::GenericFact">GenericFact</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;&gt;),
    ProveExists(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>),
    PrintFunction(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.usize.html">usize</a>&gt;, <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;, <a class="enum" href="enum.PrintFunctionMode.html" title="enum egglog::ast::PrintFunctionMode">PrintFunctionMode</a>),
    PrintSize(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;),
    Input {
        span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>,
        name: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
        file: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
    },
    Output {
        span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>,
        file: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
        exprs: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.GenericExpr.html" title="enum egglog::ast::GenericExpr">GenericExpr</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;&gt;,
    },
    Push(<a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.usize.html">usize</a>),
    Pop(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.usize.html">usize</a>),
    Fail(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="enum.GenericCommand.html" title="enum egglog::ast::GenericCommand">GenericCommand</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;&gt;),
    Include(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>),
    UserDefined(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.GenericExpr.html" title="enum egglog::ast::GenericExpr">GenericExpr</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;&gt;),
</details>}</code></pre><h2 id="variants" class="variants section-header">Variants<a href="#variants" class="anchor">§</a></h2><div class="variants"><section id="variant.Sort" class="variant"><a href="#variant.Sort" class="anchor">§</a><h3 class="code-header">Sort</h3></section><div class="docblock"><p>Create a new user-defined sort, which can then
be used in new <a href="enum.GenericCommand.html#variant.Function" title="variant egglog::ast::GenericCommand::Function"><code>Command::Function</code></a> declarations.
The <a href="enum.GenericCommand.html#variant.Datatype" title="variant egglog::ast::GenericCommand::Datatype"><code>Command::Datatype</code></a> command desugars directly to this command, with one <a href="enum.GenericCommand.html#variant.Function" title="variant egglog::ast::GenericCommand::Function"><code>Command::Function</code></a>
per constructor.
The main use of this command (as opposed to using <a href="enum.GenericCommand.html#variant.Datatype" title="variant egglog::ast::GenericCommand::Datatype"><code>Command::Datatype</code></a>) is for forward-declaring a sort for mutually-recursive datatypes.</p>
<p>It can also be used to create
a container sort.
For example, here’s how to make a sort for vectors
of some user-defined sort <code>Math</code>:</p>
<div class="example-wrap"><pre class="language-text"><code>(sort MathVec (Vec Math))</code></pre></div>
<p>Now <code>MathVec</code> can be used as an input or output sort.</p>
</div><div class="sub-variant" id="variant.Sort.fields"><h4>Fields</h4><div class="sub-variant-field"><span id="variant.Sort.field.span" class="section-header"><a href="#variant.Sort.field.span" class="anchor field">§</a><code>span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a></code></span></div><div class="sub-variant-field"><span id="variant.Sort.field.name" class="section-header"><a href="#variant.Sort.field.name" class="anchor field">§</a><code>name: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></code></span></div><div class="sub-variant-field"><span id="variant.Sort.field.presort_and_args" class="section-header"><a href="#variant.Sort.field.presort_and_args" class="anchor field">§</a><code>presort_and_args: <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.GenericExpr.html" title="enum egglog::ast::GenericExpr">GenericExpr</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;&gt;)&gt;</code></span></div><div class="sub-variant-field"><span id="variant.Sort.field.uf" class="section-header"><a href="#variant.Sort.field.uf" class="anchor field">§</a><code>uf: <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;</code></span><div class="docblock"><p>The name of the union-find function for this sort.
Used in term encoding to canonicalize values during extraction.</p>
</div></div><div class="sub-variant-field"><span id="variant.Sort.field.unionable" class="section-header"><a href="#variant.Sort.field.unionable" class="anchor field">§</a><code>unionable: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.bool.html">bool</a></code></span><div class="docblock"><p>Whether values of this sort can be unioned.
Defaults to true for user-defined sorts.
Set to false for relations and term tables that should not allow union.</p>
</div></div></div><section id="variant.Datatype" class="variant"><a href="#variant.Datatype" class="anchor">§</a><h3 class="code-header">Datatype</h3></section><div class="docblock"><p>Egglog supports three types of functions</p>
<p>A constructor models an egg-style user-defined datatype
It can only be defined through the <code>datatype</code>/<code>datatype*</code> command
or the <code>constructor</code> command</p>
<p>A relation models a datalog-style mathematical relation
It can only be defined through the <code>relation</code> command</p>
<p>A custom function is a dictionary
It can only be defined through the <code>function</code> command</p>
<p>The <code>datatype</code> command declares a user-defined datatype.
Datatypes can be unioned with <a href="enum.GenericAction.html#variant.Union" title="variant egglog::ast::GenericAction::Union"><code>Action::Union</code></a> either
at the top level or in the actions of a rule.
This makes them equal in the implicit, global equality relation.</p>
<p>Example:</p>
<div class="example-wrap"><pre class="language-text"><code>(datatype Math
  (Num i64)
  (Var String)
  (Add Math Math)
  (Mul Math Math))</code></pre></div>
<p>defines a simple <code>Math</code> datatype with variants for numbers, named variables, addition and multiplication.</p>
<p>Datatypes desugar directly to a <a href="enum.GenericCommand.html#variant.Sort" title="variant egglog::ast::GenericCommand::Sort"><code>Command::Sort</code></a> and a <a href="enum.GenericCommand.html#variant.Constructor" title="variant egglog::ast::GenericCommand::Constructor"><code>Command::Constructor</code></a> for each constructor.
The code above becomes:</p>
<div class="example-wrap"><pre class="language-text"><code>(sort Math)
(constructor Num (i64) Math)
(constructor Var (String) Math)
(constructor Add (Math Math) Math)
(constructor Mul (Math Math) Math)

Datatypes are also known as algebraic data types, tagged unions and sum types.</code></pre></div></div><div class="sub-variant" id="variant.Datatype.fields"><h4>Fields</h4><div class="sub-variant-field"><span id="variant.Datatype.field.span" class="section-header"><a href="#variant.Datatype.field.span" class="anchor field">§</a><code>span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a></code></span></div><div class="sub-variant-field"><span id="variant.Datatype.field.name" class="section-header"><a href="#variant.Datatype.field.name" class="anchor field">§</a><code>name: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></code></span></div><div class="sub-variant-field"><span id="variant.Datatype.field.variants" class="section-header"><a href="#variant.Datatype.field.variants" class="anchor field">§</a><code>variants: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="struct.Variant.html" title="struct egglog::ast::Variant">Variant</a>&gt;</code></span></div></div><section id="variant.Datatypes" class="variant"><a href="#variant.Datatypes" class="anchor">§</a><h3 class="code-header">Datatypes</h3></section><div class="sub-variant" id="variant.Datatypes.fields"><h4>Fields</h4><div class="sub-variant-field"><span id="variant.Datatypes.field.span" class="section-header"><a href="#variant.Datatypes.field.span" class="anchor field">§</a><code>span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a></code></span></div><div class="sub-variant-field"><span id="variant.Datatypes.field.datatypes" class="section-header"><a href="#variant.Datatypes.field.datatypes" class="anchor field">§</a><code>datatypes: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="enum" href="enum.Subdatatypes.html" title="enum egglog::ast::Subdatatypes">Subdatatypes</a>)&gt;</code></span></div></div><section id="variant.Constructor" class="variant"><a href="#variant.Constructor" class="anchor">§</a><h3 class="code-header">Constructor</h3></section><div class="docblock"><p>The <code>constructor</code> command defines a new constructor for a user-defined datatype
Example:</p>
<div class="example-wrap"><pre class="language-text"><code>(constructor Add (i64 i64) Math)</code></pre></div>
<p>A constructor can be <code>:unextractable</code>, in which case extraction skip this constructor entirely.</p>
<div class="example-wrap"><pre class="language-text"><code>(constructor UnextractableNode (i64) Math :unextractable)</code></pre></div>
<p>A constructor can also have a <code>cost</code> for extraction, which is used in the cost model for extraction. It defaults to 1 if not specified.</p>
<div class="example-wrap"><pre class="language-text"><code>(constructor ExpensiveNode (i64) Math :cost 10)</code></pre></div></div><div class="sub-variant" id="variant.Constructor.fields"><h4>Fields</h4><div class="sub-variant-field"><span id="variant.Constructor.field.span" class="section-header"><a href="#variant.Constructor.field.span" class="anchor field">§</a><code>span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a></code></span></div><div class="sub-variant-field"><span id="variant.Constructor.field.name" class="section-header"><a href="#variant.Constructor.field.name" class="anchor field">§</a><code>name: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></code></span></div><div class="sub-variant-field"><span id="variant.Constructor.field.schema" class="section-header"><a href="#variant.Constructor.field.schema" class="anchor field">§</a><code>schema: <a class="struct" href="struct.Schema.html" title="struct egglog::ast::Schema">Schema</a></code></span></div><div class="sub-variant-field"><span id="variant.Constructor.field.cost" class="section-header"><a href="#variant.Constructor.field.cost" class="anchor field">§</a><code>cost: <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.u64.html">u64</a>&gt;</code></span></div><div class="sub-variant-field"><span id="variant.Constructor.field.unextractable" class="section-header"><a href="#variant.Constructor.field.unextractable" class="anchor field">§</a><code>unextractable: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.bool.html">bool</a></code></span></div><div class="sub-variant-field"><span id="variant.Constructor.field.hidden" class="section-header"><a href="#variant.Constructor.field.hidden" class="anchor field">§</a><code>hidden: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.bool.html">bool</a></code></span><div class="docblock"><p>Internal-hidden constructors are excluded from print-size output and extraction.
Used for internal tables generated by proof production.</p>
</div></div><div class="sub-variant-field"><span id="variant.Constructor.field.let_binding" class="section-header"><a href="#variant.Constructor.field.let_binding" class="anchor field">§</a><code>let_binding: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.bool.html">bool</a></code></span><div class="docblock"><p>Internal-let constructors are let bindings, excluded from print-size output.
Used for global let bindings that are converted to constructors.</p>
</div></div><div class="sub-variant-field"><span id="variant.Constructor.field.term_constructor" class="section-header"><a href="#variant.Constructor.field.term_constructor" class="anchor field">§</a><code>term_constructor: <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;</code></span><div class="docblock"><p>For view tables in proof encoding: the constructor to use for building
terms from the first n-1 children during extraction.</p>
</div></div></div><section id="variant.Relation" class="variant"><a href="#variant.Relation" class="anchor">§</a><h3 class="code-header">Relation</h3></section><div class="docblock"><p>The <code>relation</code> command declares a named relation
Example:</p>
<div class="example-wrap"><pre class="language-text"><code>(relation path (i64 i64))
(relation edge (i64 i64))</code></pre></div></div><div class="sub-variant" id="variant.Relation.fields"><h4>Fields</h4><div class="sub-variant-field"><span id="variant.Relation.field.span" class="section-header"><a href="#variant.Relation.field.span" class="anchor field">§</a><code>span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a></code></span></div><div class="sub-variant-field"><span id="variant.Relation.field.name" class="section-header"><a href="#variant.Relation.field.name" class="anchor field">§</a><code>name: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></code></span></div><div class="sub-variant-field"><span id="variant.Relation.field.inputs" class="section-header"><a href="#variant.Relation.field.inputs" class="anchor field">§</a><code>inputs: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;</code></span></div></div><section id="variant.Function" class="variant"><a href="#variant.Function" class="anchor">§</a><h3 class="code-header">Function</h3></section><div class="docblock"><p>The <code>function</code> command declare an egglog custom function, which is a database table with a
a functional dependency (also called a primary key) on its inputs to one output.</p>
<div class="example-wrap"><pre class="language-text"><code>(function &lt;name:Ident&gt; &lt;schema:Schema&gt; &lt;cost:Cost&gt;
       (:on_merge &lt;List&lt;Action&gt;&gt;)?
       (:merge &lt;Expr&gt;)?)</code></pre></div>
<p>A function can have a <code>cost</code> for extraction.</p>
<p>Finally, it can have a <code>merge</code> and <code>on_merge</code>, which are triggered when
the function dependency is violated.
In this case, the merge expression determines which of the two outputs
for the same input is used.
The <code>on_merge</code> actions are run after the merge expression is evaluated.</p>
<p>Note that the <code>:merge</code> expression must be monotonic
for the behavior of the egglog program to be consistent and defined.
In other words, the merge function must define a lattice on the output of the function.
If values are merged in different orders, they should still result in the same output.
If the merge expression is not monotonic, the behavior can vary as
actions may be applied more than once with different results.</p>
<div class="example-wrap"><pre class="language-text"><code>(function LowerBound (Math) i64 :merge (max old new))</code></pre></div>
<p>Specifically, a custom function can also have an EqSort output type:</p>
<div class="example-wrap"><pre class="language-text"><code>(function Add (i64 i64) Math)</code></pre></div>
<p>All functions can be <code>set</code>
with <a href="enum.GenericAction.html#variant.Set" title="variant egglog::ast::GenericAction::Set"><code>Action::Set</code></a>.</p>
<p>Output of a function, if being the EqSort type, can be unioned with <a href="enum.GenericAction.html#variant.Union" title="variant egglog::ast::GenericAction::Union"><code>Action::Union</code></a>
with another datatype of the same <code>sort</code>.</p>
</div><div class="sub-variant" id="variant.Function.fields"><h4>Fields</h4><div class="sub-variant-field"><span id="variant.Function.field.span" class="section-header"><a href="#variant.Function.field.span" class="anchor field">§</a><code>span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a></code></span></div><div class="sub-variant-field"><span id="variant.Function.field.name" class="section-header"><a href="#variant.Function.field.name" class="anchor field">§</a><code>name: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></code></span></div><div class="sub-variant-field"><span id="variant.Function.field.schema" class="section-header"><a href="#variant.Function.field.schema" class="anchor field">§</a><code>schema: <a class="struct" href="struct.Schema.html" title="struct egglog::ast::Schema">Schema</a></code></span></div><div class="sub-variant-field"><span id="variant.Function.field.merge" class="section-header"><a href="#variant.Function.field.merge" class="anchor field">§</a><code>merge: <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="enum.GenericExpr.html" title="enum egglog::ast::GenericExpr">GenericExpr</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;&gt;</code></span></div><div class="sub-variant-field"><span id="variant.Function.field.hidden" class="section-header"><a href="#variant.Function.field.hidden" class="anchor field">§</a><code>hidden: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.bool.html">bool</a></code></span></div><div class="sub-variant-field"><span id="variant.Function.field.let_binding" class="section-header"><a href="#variant.Function.field.let_binding" class="anchor field">§</a><code>let_binding: <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.bool.html">bool</a></code></span></div></div><section id="variant.AddRuleset" class="variant"><a href="#variant.AddRuleset" class="anchor">§</a><h3 class="code-header">AddRuleset(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>)</h3></section><div class="docblock"><p>Using the <code>ruleset</code> command, defines a new
ruleset that can be added to in <a href="enum.GenericCommand.html#variant.Rule" title="variant egglog::ast::GenericCommand::Rule"><code>Command::Rule</code></a>s.
Rulesets are used to group rules together
so that they can be run together in a <a href="type.Schedule.html" title="type egglog::ast::Schedule"><code>Schedule</code></a>.</p>
<p>Example:
Ruleset allows users to define a ruleset- a set of rules</p>
<div class="example-wrap"><pre class="language-text"><code>(ruleset myrules)
(rule ((edge x y))
      ((path x y))
      :ruleset myrules)
(run myrules 2)</code></pre></div></div><section id="variant.UnstableCombinedRuleset" class="variant"><a href="#variant.UnstableCombinedRuleset" class="anchor">§</a><h3 class="code-header">UnstableCombinedRuleset(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;)</h3></section><div class="docblock"><p>Using the <code>combined-ruleset</code> command, construct another ruleset
which runs all the rules in the given rulesets.
This is useful for running multiple rulesets together.
The combined ruleset also inherits any rules added to the individual rulesets
after the combined ruleset is declared.</p>
<p>Example:</p>
<div class="example-wrap"><pre class="language-text"><code>(ruleset myrules1)
(rule ((edge x y))
      ((path x y))
     :ruleset myrules1)
(ruleset myrules2)
(rule ((path x y) (edge y z))
      ((path x z))
      :ruleset myrules2)
(combined-ruleset myrules-combined myrules1 myrules2)</code></pre></div></div><section id="variant.Rule" class="variant"><a href="#variant.Rule" class="anchor">§</a><h3 class="code-header">Rule</h3></section><div class="docblock"><div class="example-wrap"><pre class="language-text"><code>(rule &lt;body:List&lt;Fact&gt;&gt; &lt;head:List&lt;Action&gt;&gt;)</code></pre></div>
<p>defines an egglog rule.
The rule matches a list of facts with respect to
the global database, and runs the list of actions
for each match.
The matches are done <em>modulo equality</em>, meaning
equal datatypes in the database are considered
equal.</p>
<p>Example:</p>
<div class="example-wrap"><pre class="language-text"><code>(rule ((edge x y))
      ((path x y)))

(rule ((path x y) (edge y z))
      ((path x z)))</code></pre></div></div><div class="sub-variant" id="variant.Rule.fields"><h4>Fields</h4><div class="sub-variant-field"><span id="variant.Rule.field.rule" class="section-header"><a href="#variant.Rule.field.rule" class="anchor field">§</a><code>rule: <a class="struct" href="struct.GenericRule.html" title="struct egglog::ast::GenericRule">GenericRule</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;</code></span></div></div><section id="variant.Rewrite" class="variant"><a href="#variant.Rewrite" class="anchor">§</a><h3 class="code-header">Rewrite(<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="struct.GenericRewrite.html" title="struct egglog::ast::GenericRewrite">GenericRewrite</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;, <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.bool.html">bool</a>)</h3></section><div class="docblock"><p><code>rewrite</code> is syntactic sugar for a specific form of <code>rule</code>
which simply unions the left and right hand sides.</p>
<p>Example:</p>
<div class="example-wrap"><pre class="language-text"><code>(rewrite (Add a b)
         (Add b a))</code></pre></div>
<p>Desugars to:</p>
<div class="example-wrap"><pre class="language-text"><code>(rule ((= lhs (Add a b)))
      ((union lhs (Add b a))))</code></pre></div>
<p>Additionally, additional facts can be specified
using a <code>:when</code> clause.
For example, the same rule can be run only
when <code>a</code> is zero:</p>
<div class="example-wrap"><pre class="language-text"><code>(rewrite (Add a b)
         (Add b a)
         :when ((= a (Num 0)))</code></pre></div>
<p>Add the <code>:subsume</code> flag to cause the left hand side to be subsumed after matching, which means it can
no longer be matched in a rule, but can still be checked against (See <a href="enum.Change.html" title="enum egglog::ast::Change"><code>Change</code></a> for more details.)</p>
<div class="example-wrap"><pre class="language-text"><code>(rewrite (Mul a 2) (bitshift-left a 1) :subsume)</code></pre></div>
<p>Desugars to:</p>
<div class="example-wrap"><pre class="language-text"><code>(rule ((= lhs (Mul a 2)))
      ((union lhs (bitshift-left a 1))
       (subsume (Mul a 2))))</code></pre></div></div><section id="variant.BiRewrite" class="variant"><a href="#variant.BiRewrite" class="anchor">§</a><h3 class="code-header">BiRewrite(<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="struct.GenericRewrite.html" title="struct egglog::ast::GenericRewrite">GenericRewrite</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;)</h3></section><div class="docblock"><p>Similar to <a href="enum.GenericCommand.html#variant.Rewrite" title="variant egglog::ast::GenericCommand::Rewrite"><code>Command::Rewrite</code></a>, but
generates two rules, one for each direction.</p>
<p>Example:</p>
<div class="example-wrap"><pre class="language-text"><code>(bi-rewrite (Mul (Var x) (Num 0))
            (Var x))</code></pre></div>
<p>Becomes:</p>
<div class="example-wrap"><pre class="language-text"><code>(rule ((= lhs (Mul (Var x) (Num 0))))
      ((union lhs (Var x))))
(rule ((= lhs (Var x)))
      ((union lhs (Mul (Var x) (Num 0)))))</code></pre></div></div><section id="variant.Action" class="variant"><a href="#variant.Action" class="anchor">§</a><h3 class="code-header">Action(<a class="enum" href="enum.GenericAction.html" title="enum egglog::ast::GenericAction">GenericAction</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;)</h3></section><div class="docblock"><p>Perform an <a href="type.Action.html" title="type egglog::ast::Action"><code>Action</code></a> on the global database
(see documentation for <a href="type.Action.html" title="type egglog::ast::Action"><code>Action</code></a> for more details).
Example:</p>
<div class="example-wrap"><pre class="language-text"><code>(let xplusone (Add (Var &quot;x&quot;) (Num 1)))</code></pre></div></div><section id="variant.Extract" class="variant"><a href="#variant.Extract" class="anchor">§</a><h3 class="code-header">Extract(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="enum" href="enum.GenericExpr.html" title="enum egglog::ast::GenericExpr">GenericExpr</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;, <a class="enum" href="enum.GenericExpr.html" title="enum egglog::ast::GenericExpr">GenericExpr</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;)</h3></section><div class="docblock"><p><code>extract</code> a datatype from the egraph, choosing
the smallest representative.
By default, each constructor costs 1 to extract
(common subexpressions are not shared in the cost
model).</p>
</div><section id="variant.RunSchedule" class="variant"><a href="#variant.RunSchedule" class="anchor">§</a><h3 class="code-header">RunSchedule(<a class="enum" href="enum.GenericSchedule.html" title="enum egglog::ast::GenericSchedule">GenericSchedule</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;)</h3></section><div class="docblock"><p>Runs a <a href="type.Schedule.html" title="type egglog::ast::Schedule"><code>Schedule</code></a>, which specifies
rulesets and the number of times to run them.</p>
<p>Example:</p>
<div class="example-wrap"><pre class="language-text"><code>(run-schedule
    (saturate my-ruleset-1)
    (run my-ruleset-2 4))</code></pre></div>
<p>Runs <code>my-ruleset-1</code> until saturation,
then runs <code>my-ruleset-2</code> four times.</p>
<p>See <a href="type.Schedule.html" title="type egglog::ast::Schedule"><code>Schedule</code></a> for more details.</p>
</div><section id="variant.PrintOverallStatistics" class="variant"><a href="#variant.PrintOverallStatistics" class="anchor">§</a><h3 class="code-header">PrintOverallStatistics(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;)</h3></section><div class="docblock"><p>Print runtime statistics about rules
and rulesets so far.</p>
</div><section id="variant.Check" class="variant"><a href="#variant.Check" class="anchor">§</a><h3 class="code-header">Check(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.GenericFact.html" title="enum egglog::ast::GenericFact">GenericFact</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;&gt;)</h3></section><div class="docblock"><p>The <code>check</code> command checks that the given facts
match at least once in the current database.
The list of facts is matched in the same way a <a href="enum.GenericCommand.html#variant.Rule" title="variant egglog::ast::GenericCommand::Rule"><code>Command::Rule</code></a> is matched.</p>
<p>Example:</p>
<div class="example-wrap"><pre class="language-text"><code>(check (= (+ 1 2) 3))
(check (&lt;= 0 3) (&gt;= 3 0))
(fail (check (= 1 2)))</code></pre></div>
<p>prints</p>
<div class="example-wrap"><pre class="language-text"><code>[INFO ] Checked.
[INFO ] Checked.
[ERROR] Check failed
[INFO ] Command failed as expected.</code></pre></div></div><section id="variant.Prove" class="variant"><a href="#variant.Prove" class="anchor">§</a><h3 class="code-header">Prove(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.GenericFact.html" title="enum egglog::ast::GenericFact">GenericFact</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;&gt;)</h3></section><section id="variant.ProveExists" class="variant"><a href="#variant.ProveExists" class="anchor">§</a><h3 class="code-header">ProveExists(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>)</h3></section><section id="variant.PrintFunction" class="variant"><a href="#variant.PrintFunction" class="anchor">§</a><h3 class="code-header">PrintFunction(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.usize.html">usize</a>&gt;, <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;, <a class="enum" href="enum.PrintFunctionMode.html" title="enum egglog::ast::PrintFunctionMode">PrintFunctionMode</a>)</h3></section><div class="docblock"><p>Print out rows of a given function, extracting each of the elements of the function.
Example:</p>
<div class="example-wrap"><pre class="language-text"><code>(print-function Add 20)</code></pre></div>
<p>prints the first 20 rows of the <code>Add</code> function.</p>
<div class="example-wrap"><pre class="language-text"><code>(print-function Add)</code></pre></div>
<p>prints all rows of the <code>Add</code> function.</p>
<div class="example-wrap"><pre class="language-text"><code>(print-function Add :file &quot;add.csv&quot;)</code></pre></div>
<p>prints all rows of the <code>Add</code> function to a CSV file.</p>
</div><section id="variant.PrintSize" class="variant"><a href="#variant.PrintSize" class="anchor">§</a><h3 class="code-header">PrintSize(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="enum" href="https://doc.rust-lang.org/1.87.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;)</h3></section><div class="docblock"><p>Print out the number of rows in a function or all functions.</p>
</div><section id="variant.Input" class="variant"><a href="#variant.Input" class="anchor">§</a><h3 class="code-header">Input</h3></section><div class="docblock"><p>Input a CSV file directly into a function.</p>
</div><div class="sub-variant" id="variant.Input.fields"><h4>Fields</h4><div class="sub-variant-field"><span id="variant.Input.field.span" class="section-header"><a href="#variant.Input.field.span" class="anchor field">§</a><code>span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a></code></span></div><div class="sub-variant-field"><span id="variant.Input.field.name" class="section-header"><a href="#variant.Input.field.name" class="anchor field">§</a><code>name: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></code></span></div><div class="sub-variant-field"><span id="variant.Input.field.file" class="section-header"><a href="#variant.Input.field.file" class="anchor field">§</a><code>file: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></code></span></div></div><section id="variant.Output" class="variant"><a href="#variant.Output" class="anchor">§</a><h3 class="code-header">Output</h3></section><div class="docblock"><p>Extract and output a set of expressions to a file.</p>
</div><div class="sub-variant" id="variant.Output.fields"><h4>Fields</h4><div class="sub-variant-field"><span id="variant.Output.field.span" class="section-header"><a href="#variant.Output.field.span" class="anchor field">§</a><code>span: <a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a></code></span></div><div class="sub-variant-field"><span id="variant.Output.field.file" class="section-header"><a href="#variant.Output.field.file" class="anchor field">§</a><code>file: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></code></span></div><div class="sub-variant-field"><span id="variant.Output.field.exprs" class="section-header"><a href="#variant.Output.field.exprs" class="anchor field">§</a><code>exprs: <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.GenericExpr.html" title="enum egglog::ast::GenericExpr">GenericExpr</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;&gt;</code></span></div></div><section id="variant.Push" class="variant"><a href="#variant.Push" class="anchor">§</a><h3 class="code-header">Push(<a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.usize.html">usize</a>)</h3></section><div class="docblock"><p><code>push</code> the current egraph <code>n</code> times so that it is saved.
Later, the current database and rules can be restored using <code>pop</code>.</p>
</div><section id="variant.Pop" class="variant"><a href="#variant.Pop" class="anchor">§</a><h3 class="code-header">Pop(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="primitive" href="https://doc.rust-lang.org/1.87.0/std/primitive.usize.html">usize</a>)</h3></section><div class="docblock"><p><code>pop</code> the current egraph, restoring the previous one.
The argument specifies how many egraphs to pop.</p>
</div><section id="variant.Fail" class="variant"><a href="#variant.Fail" class="anchor">§</a><h3 class="code-header">Fail(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="enum.GenericCommand.html" title="enum egglog::ast::GenericCommand">GenericCommand</a>&lt;<a class="enum" href="../enum.ResolvedCall.html" title="enum egglog::ResolvedCall">ResolvedCall</a>, <a class="struct" href="struct.ResolvedVar.html" title="struct egglog::ast::ResolvedVar">ResolvedVar</a>&gt;&gt;)</h3></section><div class="docblock"><p>Assert that a command fails with an error.</p>
</div><section id="variant.Include" class="variant"><a href="#variant.Include" class="anchor">§</a><h3 class="code-header">Include(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>)</h3></section><div class="docblock"><p>Include another egglog file directly as text and run it.</p>
</div><section id="variant.UserDefined" class="variant"><a href="#variant.UserDefined" class="anchor">§</a><h3 class="code-header">UserDefined(<a class="enum" href="enum.Span.html" title="enum egglog::ast::Span">Span</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.GenericExpr.html" title="enum egglog::ast::GenericExpr">GenericExpr</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/1.87.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;&gt;)</h3></section><div class="docblock"><p>User-defined command.</p>
</div></div><script src="../../type.impl/egglog/ast/enum.GenericCommand.js" data-self-path="egglog::ast::ResolvedCommand" async></script></section></div></main></body></html>